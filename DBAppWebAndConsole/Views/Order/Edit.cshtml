@model OrderViewModel

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Редактировать заказ</title>
</head>
<body>
    <h1>Редактирование заказа</h1>
    <form method="post">
        <label for="master">Мастер:</label>
        <select id="master" name="IdMaster" required>
            @foreach (var master in Model.Masters)
            {
                <option value="@master.IdMaster" @(master.IdMaster == Model.IdMaster ? "selected" : "")>@master.Person.Name</option>
            }
        </select>
        <br />

        <label for="spareParts">Запчасти:</label>
        <select id="spareParts" name="SelectedSpareParts" multiple>
            @foreach (var part in Model.SpareParts)
            {
                <option value="@part.IdSparePart" @(Model.SelectedSpareParts.Contains(part) ? "selected" : "")>@part.Name</option>
            }
        </select>
        <br />

        <label for="works">Работы:</label>
        <select id="works" name="SelectedWorks" multiple>
            @foreach (var work in Model.Works)
            {
                <option value="@work.IdWork" @(Model.SelectedWorks.Contains(work) ? "selected" : "")>@work.WorkDescription</option>
            }
        </select>
        <br />

        <label for="malfunctions">Неисправности:</label>
        <select id="malfunctions" name="SelectedMalfunctions" multiple>
            @foreach (var malfunction in Model.Malfunctions)
            {
                <option value="@malfunction.IdMalfunction" @(Model.SelectedMalfunctions.Contains(malfunction) ? "selected" : "")>@malfunction.Description</option>
            }
        </select>
        <br />

        <button type="submit">Сохранить</button>
    </form>
</body>
</html>
